<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pandemalawi Sounds</title>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Outfit', sans-serif;
      background: url('https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4') no-repeat center center fixed;
      background-size: cover;
      color: #fff;
    }
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: -1;
    }
    header {
      background: rgba(0, 0, 0, 0.6);
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      backdrop-filter: blur(5px);
    }
    header h1 {
      font-size: 1.8rem;
      margin: 0;
      color: #ffffff;
    }
    nav a {
      color: #00d1ff;
      text-decoration: none;
      margin-left: 20px;
      font-weight: 500;
    }
    .hero {
      text-align: center;
      padding: 4rem 2rem;
      background: rgba(0,0,0,0.5);
    }
    .hero h2 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }
    .section {
      padding: 2rem;
      backdrop-filter: blur(10px);
      background: rgba(0,0,0,0.6);
      border-radius: 20px;
      margin: 2rem auto;
      width: 90%;
      max-width: 900px;
    }
    .song-card {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 15px;
      margin-bottom: 2rem;
      padding: 1rem;
      transition: transform 0.2s;
    }
    .song-card:hover {
      transform: translateY(-5px);
    }
    .song-info {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }
    .song-card img {
      width: 100px;
      height: 100px;
      border-radius: 12px;
    }
    .song-details {
      flex: 1;
      color: #fff;
    }
    .song-details a {
      color: #00d1ff;
      text-decoration: none;
      margin-right: 10px;
    }
    .likes button {
      margin-left: 5px;
      background: #00d1ff;
      color: #000;
      border: none;
      padding: 0.2rem 0.5rem;
      border-radius: 5px;
      cursor: pointer;
    }
    .ads img {
      width: 100%;
      border-radius: 12px;
      margin-top: 1rem;
    }
    .search input {
      padding: 0.6rem;
      border-radius: 10px;
      border: none;
      width: 100%;
      max-width: 400px;
      font-size: 1rem;
      margin-bottom: 1rem;
    }
    .share-buttons a, .share-buttons button {
      display: inline-block;
      margin: 5px 10px 5px 0;
      padding: 0.4rem 0.8rem;
      font-size: 0.9rem;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      background-color: #00d1ff;
      color: #000;
      text-decoration: none;
    }
  </style>
</head>
<body>
  <header>
    <h1>Pandemalawi Sounds</h1>
    <nav>
      <a href="#about">About</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <div class="hero">
    <h2>Stream. Download. Vibe.</h2>
    <p>Discover Malawian music and support local talent.</p>
  </div>

  <div class="section search">
    <input type="text" id="searchBar" onkeyup="searchSongs()" placeholder="Search songs or artists...">
  </div>

  <div class="section" id="songs">
    <h3>Most Liked Songs</h3>
    <!-- Dynamic song list will go here -->
  </div>

  <div class="section" id="artists">
    <h3>Featured Artists</h3>
    <!-- Dynamic artist profiles will go here -->
  </div>

  <div class="section ads">
    <h3>Sponsored Ads</h3>
    <img src="ad1.jpg" alt="Advert 1">
    <img src="ad2.jpg" alt="Advert 2">
  </div>

  <div class="section" id="about">
    <h3>About Pandemalawi Sounds</h3>
    <p>Pandemalawi Sounds is a platform dedicated to promoting Malawian music and artists by making their work accessible to everyone. We also offer space for local business promotions.</p>
  </div>

  <div class="section" id="contact">
    <h3>Contact Us</h3>
    <p>Email: pandemalawisounds@gmail.com</p>
    <p>WhatsApp: +265996275575</p>
    <p>Facebook: pandemalawisounds</p>
  </div>

  <script>
    // Fetch Songs from JSON
    fetch('songs.json')
      .then(response => response.json())
      .then(data => {
        const songsContainer = document.getElementById('songs');
        data.songs.forEach(song => {
          const songCard = document.createElement('div');
          songCard.classList.add('song-card');
          songCard.innerHTML = `
            <div class="song-info">
              <img src="${song.artist_image}" alt="Artist Image">
              <div class="song-details">
                <strong>${song.title} - ${song.artist}</strong><br>
                <audio controls src="${song.audio_url}"></audio><br>
                <a href="${song.audio_url}" download>‚¨áÔ∏è Download</a>
                <a href="${song.youtube_url}" target="_blank">‚ñ∫ Watch on YouTube</a>
                <div class="likes">
                  üëç <span id="likes${song.id}">${song.likes}</span><button onclick="like(${song.id})">Like</button>
                  üëé <span id="dislikes${song.id}">${song.dislikes}</span><button onclick="dislike(${song.id})">Dislike</button>
                </div>
                <div class="share-buttons">
                  <a href="https://wa.me/?text=Listen%20to%20${song.title}%20on%20Pandemalawi%20Sounds%20https://yourdomain.com" target="_blank">WhatsApp</a>
                  <a href="https://www.facebook.com/sharer/sharer.php?u=https://yourdomain.com" target="_blank">Facebook</a>
                  <a href="https://twitter.com/intent/tweet?url=https://yourdomain.com&text=Listen%20to%20${song.title}!" target="_blank">Twitter</a>
                  <a href="https://www.tiktok.com/" target="_blank">TikTok</a>
                  <button onclick="copyShareLink('https://yourdomain.com')">Copy Link</button>
                </div>
              </div>
            </div>
          `;
          songsContainer.appendChild(songCard);
        });
      })
      .catch(error => console.error('Error fetching songs:', error));

    // Fetch Artists from JSON
    fetch('artists.json')
      .then(response => response.json())
      .then(data => {
        const artistsContainer = document.getElementById('artists');
        data.artists.forEach(artist => {
          const artistCard = document.createElement('div');
          artistCard.classList.add('song-card');
          artistCard.innerHTML = `
            <div class="song-info">
              <img src="${artist.image}" alt="Artist Image">
              <div class="song-details">
                <strong>${artist.name}</strong>
                <p>Genre: ${artist.genre}</p>
                <div class="socials">
                  <a href="${artist.instagram}" target="_blank">Instagram</a>
                  <a href="${artist.facebook}" target="_blank">Facebook</a>
                  <a href="${artist.youtube}" target="_blank">YouTube</a>
                </div>
              </div>
            </div>
          `;
          artistsContainer.appendChild(artistCard);
        });
      })
      .catch(error => console.error('Error fetching artists:', error));

    // Like button functionality
    function like(id) {
      const el = document.getElementById(`likes${id}`);
      el.innerText = parseInt(el.innerText) + 1;
    }

    // Dislike button functionality
    function dislike(id) {
      const el = document.getElementById(`dislikes${id}`);
      el.innerText = parseInt(el.innerText) + 1;
    }

    // Search songs
    function searchSongs() {
      const input = document.getElementById('searchBar').value.toLowerCase();
      const songCards = document.querySelectorAll('.song-card');
      songCards.forEach(card => {
        const title = card.querySelector('.song-details strong').textContent.toLowerCase();
        const artist = card.querySelector('.song-details strong').textContent.toLowerCase();
        if (title.includes(input) || artist.includes(input)) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    }

    // Copy share link to clipboard
    function copyShareLink(link) {
      navigator.clipboard.writeText(link)
        .then(() => alert("Link copied!"))
        .catch(err => alert("Failed to copy link."));
    }
  </script>
</body>
</html>